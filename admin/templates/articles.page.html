<script>
    fetch('search/post.json')
        .then(res=>res.json())
        .then(jsonItems=>{
            jsonItems.reverse().forEach( jsonItem => {
                let itemDiv = document.createElement('div');
                itemDiv.className = "result-card";
                let itemImage = document.createElement('img');
                itemImage.src = jsonItem.image?jsonItem.image:'assets/images/post_default.jpeg'
                itemDiv.append(itemImage);
                let headerLink = document.createElement('a');
                headerLink.href = jsonItem.href;
                headerLink.innerText = jsonItem.title;
                let itemContent = document.createElement('div');
                let itemTitle = document.createElement('h3');
                itemTitle.innerHTML = headerLink;//jsonItem.title;
                itemContent.append(itemTitle);
                let itemTeaser = document.createElement('span');
                itemTeaser.innerText = jsonItem.body.substring(0, 250);
                itemContent.append(itemTeaser);
                let link = document.createElement('a');
                link.href = jsonItem.href;
                link.className = 'readMore';
                link.innerText = 'קרא עוד';
                itemContent.append(link);
                itemDiv.append(itemContent);
                document.getElementById('main').appendChild(itemDiv);
            });                
        });        
</script> 